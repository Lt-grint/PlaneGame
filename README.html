<!DOCTYPE html>
<html class="theme theme-white">
<head>
<meta charset="utf-8">
<title>**PlaneGame设计说明书**</title>
<link href="https://www.zybuluo.com/static/assets/template-theme-white.css" rel="stylesheet" media="screen">
<style type="text/css">

#wmd-preview h1  {
    color: #0077bb; /* 将标题改为蓝色 */
}</style>
</head>
<body class="theme theme-white">
<div id="wmd-preview" class="wmd-preview wmd-preview-full-reader"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="3ew5" id="planegame设计说明书"><strong>PlaneGame设计说明书</strong></h1><hr><p data-anchor-id="5oof"><div class="toc"><div class="toc">
<ul>
<li><a href="#planegame设计说明书">PlaneGame设计说明书</a><ul>
<li><a href="#1-引言">1 引言</a><ul>
<li><a href="#11-编写目的">1.1 编写目的</a></li>
<li><a href="#12-背景">1.2 背景</a></li>
<li><a href="#13-定义">1.3 定义</a></li>
<li><a href="#14参考资料">1.4参考资料</a></li>
</ul>
</li>
<li><a href="#2-程序系统总体设计">2 程序系统总体设计</a></li>
<li><a href="#3-程序设计说明">3 程序设计说明</a><ul>
<li><a href="#31-程序重要代码描述">3.1 程序重要代码描述</a></li>
<li><a href="#32-功能">3.2 功能</a></li>
<li><a href="#33-性能">3.3 性能</a></li>
<li><a href="#34-输入项">3.4 输入项</a></li>
<li><a href="#35-输出项">3.5 输出项</a></li>
<li><a href="#36-算法">3.6 算法</a></li>
<li><a href="#37-流程逻辑">3.7 流程逻辑</a></li>
<li><a href="#38-存储分配">3.8 存储分配</a></li>
<li><a href="#39-测试计划">3.9 测试计划</a></li>
<li><a href="#310-具体人员安排">3.10 具体人员安排</a></li>
<li><a href="#311-尚未解决的问题">3.11 尚未解决的问题</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</p><hr><div class="md-section-divider"></div><h2 data-anchor-id="h4cc" id="1-引言">1 引言</h2><div class="md-section-divider"></div><h3 data-anchor-id="klrz" id="11-编写目的">1.1 编写目的</h3><p data-anchor-id="ekuj">随着科技的发展，现在电脑的功能已不仅仅是简单的上网、收发邮件了。更多的电脑用户希望在工作、学习之余通过方便灵巧可随身携带的仪器休闲娱乐。因此，为了迎合众多用户的需求并适应现在电脑的规模，我们开发出一套适合各阶层人士的具有很强的娱乐性和交互性的雷霆战机游戏。  <br>
  雷霆战机,之所以取这样的名字，去用意还是很明显的.雷霆战机其实就是一个英雄的化身，它是人不断向前追求和勇气的象征.就像现代的人只有不断努力向前争取和勇于战胜困难才能得到自己想要的。而敌机也是随机出现的，就像现在社会存在的机会，而我们只有找好自己的目标才能成功。  <br>
    虽然现在市面上存在着各种各样的游戏版本,可是雷霆战机其市场还是相当大的。因为它的特殊在于它能吸引人更深入，爱不释手.随着游戏速度不断加快，其刺激性也更强。可以说该游戏的优势在于它的简单易行，不论是电脑，还是小游戏机，都能很快顺利的运行。对于在外忙碌的人，不可能花费大量时间在娱乐上，大型游戏是行不通的。这样的小游戏刚好迎合了他们的需求。</p><div class="md-section-divider"></div><h3 data-anchor-id="0zo8" id="12-背景">1.2 背景</h3><p data-anchor-id="254d">随着科技的发展，现在电脑的功能已不仅仅是简单的上网、收发邮件了。更多的电脑用户希望在工作、学习之余通过方便灵巧可随身携带的仪器休闲娱乐。因此，为了迎合众多用户的需求并适应现在电脑的规模，我们开发出一套适合各阶层人士的具有很强的娱乐性和交互性的雷霆战机游戏。  <br>
  雷霆战机,之所以取这样的名字，去用意还是很明显的.雷霆战机其实就是一个英雄的化身，它是人不断向前追求和勇气的象征.就像现代的人只有不断努力向前争取和勇于战胜困难才能得到自己想要的。而敌机也是随机出现的，就像现在社会存在的机会，而我们只有找好自己的目标才能成功。  <br>
    虽然现在市面上存在着各种各样的游戏版本,可是雷霆战机其市场还是相当大的。因为它的特殊在于它能吸引人更深入，爱不释手.随着游戏速度不断加快，其刺激性也更强。可以说该游戏的优势在于它的简单易行，不论是电脑，还是小游戏机，都能很快顺利的运行。对于在外忙碌的人，不可能花费大量时间在娱乐上，大型游戏是行不通的。这样的小游戏刚好迎合了他们的需求。   </p><div class="md-section-divider"></div><h3 data-anchor-id="klcx" id="13-定义">1.3 定义</h3><p data-anchor-id="yega">需求：用户解决问题或达到目标所需的条件或功能；系统或系统部件要满足合同、标准，规范或其它正式规定文档所需具有的条件或权能。而且其很强的交互性及简单易行性，可以让人在很短时间内熟悉它的游戏规则，不论用户文化水平如何，都会很轻松的学会使用它。 </p><div class="md-section-divider"></div><hr><div class="md-section-divider"></div><h3 data-anchor-id="crm5" id="14参考资料">1.4参考资料</h3><p data-anchor-id="f2aj"><a href="http://www.baike.com/wiki/%E5%BC%A0%E6%B5%B7%E8%97%A9" target="_blank">张海藩</a>：《软件工程导论》清华大学出版社 2008年2月第五版 <br>
<a href="http://baike.baidu.com/link?url=fYHyxA88Es5FsyR71Pw9fiVGLAFuuF4pYcLvvkNbIlBcVFSXgU45Dty1DgtD4CfSzrhfRUjMrdqoZ_5I8ynWZ_ifqrGIGSW6w3XkFPU16fTjgi6E52i7w9bGPAgGzk_ZZ3vDH_qZGwu7zL5ON-jM16PES1poFIB14g-TkFGsOfS" target="_blank">肖刚</a>：   《实用软件文档写作》清华大学出版社 2005年2月</p><hr><div class="md-section-divider"></div><h2 data-anchor-id="yqkv" id="2-程序系统总体设计">2 程序系统总体设计</h2><table data-anchor-id="d62i" class="table table-striped-white table-bordered">
<thead>
<tr>
 <th>模块名称</th>
 <th style="text-align:center;">功能简述</th>
</tr>
</thead>
<tbody><tr>
 <td>人机智能</td>
 <td style="text-align:center;">人机对战规则的实现</td>
</tr>
<tr>
 <td>游戏对象</td>
 <td style="text-align:center;">各个游戏对象的抽象父类</td>
</tr>
<tr>
 <td>战机对象</td>
 <td style="text-align:center;">战机类</td>
</tr>
<tr>
 <td>爆炸对象</td>
 <td style="text-align:center;">爆炸类</td>
</tr>
<tr>
 <td>文字对象</td>
 <td style="text-align:center;">文字类</td>
</tr>
</tbody></table><div class="md-section-divider"></div><h2 data-anchor-id="8p97" id="3-程序设计说明">3 程序设计说明</h2><div class="md-section-divider"></div><h3 data-anchor-id="nx6u" id="31-程序重要代码描述">3.1 程序重要代码描述</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="4z0n"><ol class="linenums"><li class="L0"><code class="language-python"><span class="pun">&lt;</span><span class="pln">div </span><span class="kwd">class</span><span class="pun">=</span><span class="str">"showSomething"</span><span class="pun">&gt;</span></code></li><li class="L1"><code class="language-python"><span class="pln">            </span><span class="pun">&lt;</span><span class="pln">div id</span><span class="pun">=</span><span class="str">"booms"</span><span class="pun">&gt;爆炸使用情况(已使用/存储总量)：&lt;/</span><span class="pln">div</span><span class="pun">&gt;</span></code></li><li class="L2"><code class="language-python"><span class="pln">            </span><span class="pun">&lt;</span><span class="pln">div id</span><span class="pun">=</span><span class="str">"missle"</span><span class="pun">&gt;子弹使用情况(已使用/存储总量)：&lt;/</span><span class="pln">div</span><span class="pun">&gt;</span></code></li><li class="L3"><code class="language-python"><span class="pln">        </span><span class="pun">&lt;/</span><span class="pln">div</span><span class="pun">&gt;</span></code></li><li class="L4"><code class="language-python"><span class="pln">        </span><span class="pun">&lt;</span><span class="pln">script src</span><span class="pun">=</span><span class="str">"js/data.js"</span><span class="pun">&gt;&lt;/</span><span class="pln">script</span><span class="pun">&gt;</span></code></li><li class="L5"><code class="language-python"><span class="pln">        </span><span class="pun">&lt;</span><span class="pln">script src</span><span class="pun">=</span><span class="str">"js/loading.js"</span><span class="pun">&gt;&lt;/</span><span class="pln">script</span><span class="pun">&gt;</span></code></li><li class="L6"><code class="language-python"><span class="pln">        </span><span class="pun">&lt;</span><span class="pln">script src</span><span class="pun">=</span><span class="str">"js/allSprite.js"</span><span class="pun">&gt;&lt;/</span><span class="pln">script</span><span class="pun">&gt;</span></code></li><li class="L7"><code class="language-python"><span class="pln">        </span><span class="pun">&lt;</span><span class="pln">script</span><span class="pun">&gt;</span></code></li><li class="L8"><code class="language-python"><span class="pln">            var canvas </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"cas"</span><span class="pun">);</span></code></li><li class="L9"><code class="language-python"><span class="pln">            canvas</span><span class="pun">.</span><span class="pln">height </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">innerHeight</span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">            var ctx </span><span class="pun">=</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">getContext</span><span class="pun">(</span><span class="str">'2d'</span><span class="pun">);</span></code></li><li class="L1"><code class="language-python"></code></li><li class="L2"><code class="language-python"><span class="pln">            var img </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Image</span><span class="pun">(),</span></code></li><li class="L3"><code class="language-python"><span class="pln">                boomDom </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"booms"</span><span class="pun">),</span></code></li><li class="L4"><code class="language-python"><span class="pln">                missleDom </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"missle"</span><span class="pun">),</span></code></li><li class="L5"><code class="language-python"><span class="pln">                menu </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"menu"</span><span class="pun">),</span><span class="pln"> </span><span class="pun">//获取主菜单</span></code></li><li class="L6"><code class="language-python"><span class="pln">                start </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"start"</span><span class="pun">),//获取开始游戏</span></code></li><li class="L7"><code class="language-python"><span class="pln">            setting </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"setting"</span><span class="pun">),</span><span class="pln"> </span><span class="pun">//获取设置</span></code></li><li class="L8"><code class="language-python"><span class="pln">                help </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"help"</span><span class="pun">),</span><span class="pln"> </span><span class="pun">//获取帮助</span></code></li><li class="L9"><code class="language-python"><span class="pln">                about </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"about"</span><span class="pun">),</span><span class="pln"> </span><span class="pun">//获取关于</span></code></li><li class="L0"><code class="language-python"><span class="pln">                back </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"back"</span><span class="pun">),//获取返回</span></code></li><li class="L1"><code class="language-python"></code></li><li class="L2"><code class="language-python"><span class="pln">menu_setting</span><span class="pun">=</span><span class="pln">document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"menu_setting"</span><span class="pun">),//获取设置菜单</span></code></li><li class="L3"><code class="language-python"><span class="pln">menu_lever </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"menu_lever"</span><span class="pun">),//获取难度等级选择菜单</span></code></li><li class="L4"><code class="language-python"><span class="pln">menu_music </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"menu_music"</span><span class="pun">);//获取声音设置菜单</span></code></li><li class="L5"><code class="language-python"></code></li><li class="L6"><code class="language-python"></code></li><li class="L7"><code class="language-python"><span class="pln">              var globalID </span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">              </span><span class="pun">//获取</span></code></li><li class="L9"><code class="language-python"><span class="pln">              requestAnimationFrame</span></code></li><li class="L0"><code class="language-python"><span class="pln">            window</span><span class="pun">.</span><span class="pln">RAF </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-python"><span class="pln">                </span><span class="kwd">return</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">requestAnimationFrame </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">webkitRequestAnimationFrame </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">mozRequestAnimationFrame </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">oRequestAnimationFrame </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">msRequestAnimationFrame </span><span class="pun">||</span><span class="pln"> function</span><span class="pun">(</span><span class="pln">callback</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                    window</span><span class="pun">.</span><span class="pln">setTimeout</span><span class="pun">(</span><span class="pln">callback</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1000</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">60</span><span class="pun">);</span></code></li><li class="L3"><code class="language-python"><span class="pln">                </span><span class="pun">};</span></code></li><li class="L4"><code class="language-python"><span class="pln">            </span><span class="pun">})();</span></code></li><li class="L5"><code class="language-python"></code></li><li class="L6"><code class="language-python"><span class="pln">            </span><span class="pun">//</span><span class="pln">      var CAF </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">function</span><span class="pun">(){</span></code></li><li class="L7"><code class="language-python"><span class="pln">            </span><span class="pun">//</span><span class="pln">          </span><span class="kwd">return</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">cancelAnimationFrame </span><span class="pun">||</span><span class="pln">window</span><span class="pun">.</span><span class="pln">webkitCancelAnimationFrame </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">mozCancelAnimationFrame </span><span class="pun">||</span><span class="pln"> widow</span><span class="pun">.</span><span class="pln">oCancelRequestAnimationFrame </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">msCancelRequestAnimationFrame </span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">            </span><span class="pun">//</span><span class="pln">      </span><span class="pun">})();</span><span class="pln">   </span></code></li><li class="L9"><code class="language-python"></code></li><li class="L0"><code class="language-python"><span class="pln">            </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">foreach </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">(</span><span class="pln">callback</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-python"><span class="pln">                </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">var i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                    callback</span><span class="pun">.</span><span class="pln">apply</span><span class="pun">(</span><span class="pln">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> </span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span></code></li><li class="L3"><code class="language-python"><span class="pln">                </span><span class="pun">}</span></code></li><li class="L4"><code class="language-python"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L5"><code class="language-python"></code></li><li class="L6"><code class="language-python"><span class="pln">            var sprites </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> </span><span class="pun">//精灵表</span></code></li><li class="L7"><code class="language-python"><span class="pln">                missles </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> </span><span class="pun">//子弹</span></code></li><li class="L8"><code class="language-python"><span class="pln">                booms </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[],</span><span class="pln"> </span><span class="pun">//爆炸</span></code></li><li class="L9"><code class="language-python"><span class="pln">                badPlanNum </span><span class="pun">=</span><span class="pln"> </span><span class="lit">30</span><span class="pun">,</span><span class="pln"> </span><span class="pun">//敌机数量</span></code></li><li class="L0"><code class="language-python"><span class="pln">                point </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></code></li><li class="L1"><code class="language-python"><span class="pln">                myplan </span><span class="pun">=</span><span class="pln"> null</span><span class="pun">,</span><span class="pln"> </span><span class="pun">//我方飞机</span></code></li><li class="L2"><code class="language-python"><span class="pln">                eatfood </span><span class="pun">=</span><span class="pln"> null</span><span class="pun">,</span><span class="pln"> </span><span class="pun">//道具</span></code></li><li class="L3"><code class="language-python"><span class="pln">                foodDate </span><span class="pun">=</span><span class="pln"> null</span><span class="pun">,</span><span class="pln"> </span><span class="pun">//道具产生时间</span></code></li><li class="L4"><code class="language-python"><span class="pln">                dieNum </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//死亡次数</span></code></li><li class="L5"><code class="language-python"><span class="pln">            bgmisplay </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;//背景音乐</span><span class="pln"> </span><span class="pun">为</span><span class="pln">true</span><span class="pun">时播放，为</span><span class="pln">false</span><span class="pun">时不播放</span></code></li><li class="L6"><code class="language-python"><span class="pln">            </span><span class="pun">//按下键盘时将</span><span class="pln">myplan</span><span class="pun">对应的属性改为</span><span class="pln">true</span></code></li><li class="L7"><code class="language-python"><span class="pln">            window</span><span class="pun">.</span><span class="pln">onkeydown </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">(</span><span class="pln">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="language-python"><span class="pln">                switch</span><span class="pun">(</span><span class="pln">event</span><span class="pun">.</span><span class="pln">keyCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="language-python"><span class="pln">                    case </span><span class="lit">88</span><span class="pun">:</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">fire </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//</span><span class="pln">x</span><span class="pun">键</span><span class="pln"> </span></code></li><li class="L1"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L2"><code class="language-python"><span class="pln">                    case </span><span class="lit">90</span><span class="pun">:</span></code></li><li class="L3"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">rotateLeft </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//</span><span class="pln">Z</span><span class="pun">键</span><span class="pln"> </span><span class="pun">向左旋转</span></code></li><li class="L4"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                    case </span><span class="lit">67</span><span class="pun">:</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">rotateRight </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//</span><span class="pln">C</span><span class="pun">键</span><span class="pln"> </span><span class="pun">向右旋转</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                    case </span><span class="lit">37</span><span class="pun">:</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">toLeft </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//左</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L1"><code class="language-python"><span class="pln">                    case </span><span class="lit">38</span><span class="pun">:</span></code></li><li class="L2"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">toTop </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//上</span></code></li><li class="L3"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                    case </span><span class="lit">39</span><span class="pun">:</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">toRight </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//右</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                    case </span><span class="lit">40</span><span class="pun">:</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">toBottom </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//下</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">                </span><span class="pun">}</span></code></li><li class="L1"><code class="language-python"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L2"><code class="language-python"></code></li><li class="L3"><code class="language-python"><span class="pln">            </span><span class="pun">//松开键盘时将</span></code></li><li class="L4"><code class="language-python"><span class="pln">            myplan</span><span class="pun">对应的属性改为</span><span class="pln">false</span></code></li><li class="L5"><code class="language-python"><span class="pln">            window</span><span class="pun">.</span><span class="pln">onkeyup </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">(</span><span class="pln">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code class="language-python"><span class="pln">                switch</span><span class="pun">(</span><span class="pln">event</span><span class="pun">.</span><span class="pln">keyCode</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="language-python"><span class="pln">                    case </span><span class="lit">88</span><span class="pun">:</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">fire </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">                    case </span><span class="lit">90</span><span class="pun">:</span></code></li><li class="L1"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">rotateLeft </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L2"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                    case </span><span class="lit">67</span><span class="pun">:</span></code></li><li class="L4"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">rotateRight </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                    case </span><span class="lit">37</span><span class="pun">:</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">toLeft </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                    case </span><span class="lit">38</span><span class="pun">:</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">toTop </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L1"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L2"><code class="language-python"><span class="pln">                    case </span><span class="lit">39</span><span class="pun">:</span></code></li><li class="L3"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">toRight </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                    case </span><span class="lit">40</span><span class="pun">:</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">toBottom </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                </span><span class="pun">}</span></code></li><li class="L9"><code class="language-python"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L0"><code class="language-python"></code></li><li class="L1"><code class="language-python"><span class="pln">            </span><span class="pun">//退出</span></code></li><li class="L2"><code class="language-python"><span class="pln">document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"quit"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function closeWebPage</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="language-python"><span class="pln">        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">userAgent</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"MSIE"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">//</span><span class="pln">close IE  </span></code></li><li class="L4"><code class="language-python"><span class="pln">                    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">userAgent</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"MSIE 6.0"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        window</span><span class="pun">.</span><span class="pln">opener </span><span class="pun">=</span><span class="pln"> null</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        window</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span></code></li><li class="L7"><code class="language-python"><span class="pln">                    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        window</span><span class="pun">.</span><span class="pln">opener </span><span class="pun">=</span><span class="pln"> null</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        window</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="str">''</span><span class="pun">,</span><span class="pln"> </span><span class="str">'_self'</span><span class="pun">);</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        window</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span></code></li><li class="L1"><code class="language-python"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L2"><code class="language-python"><span class="pln">                </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">navigator</span><span class="pun">.</span><span class="pln">userAgent</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"Firefox"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">//</span><span class="pln">close firefox  </span></code></li><li class="L3"><code class="language-python"><span class="pln">                    window</span><span class="pun">.</span><span class="pln">location</span><span class="pun">.</span><span class="pln">href </span><span class="pun">=</span><span class="pln"> </span><span class="str">'about:blank '</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">//</span><span class="pln">close chrome</span><span class="pun">;</span><span class="typ">It</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> effective when it </span><span class="kwd">is</span><span class="pln"> only one</span><span class="pun">.</span><span class="pln">  </span></code></li><li class="L5"><code class="language-python"><span class="pln">                    window</span><span class="pun">.</span><span class="pln">opener </span><span class="pun">=</span><span class="pln"> null</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                    window</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="str">''</span><span class="pun">,</span><span class="pln"> </span><span class="str">'_self'</span><span class="pun">);</span></code></li><li class="L7"><code class="language-python"><span class="pln">                    window</span><span class="pun">.</span><span class="pln">close</span><span class="pun">();</span></code></li><li class="L8"><code class="language-python"><span class="pln">                </span><span class="pun">}</span></code></li><li class="L9"><code class="language-python"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L0"><code class="language-python"></code></li><li class="L1"><code class="language-python"><span class="pln">            </span><span class="pun">//飞机爆炸</span><span class="pln">                    </span></code></li><li class="L2"><code class="language-python"><span class="pln">            function boom</span><span class="pun">(</span><span class="pln">plan</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="language-python"><span class="pln">                </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">var j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&lt;</span><span class="pln"> booms</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-python"><span class="pln">                    </span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">booms</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">visible</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        booms</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> plan</span><span class="pun">.</span><span class="pln">left</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        booms</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">top </span><span class="pun">=</span><span class="pln"> plan</span><span class="pun">.</span><span class="pln">top</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        booms</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"></code></li><li class="L9"><code class="language-python"><span class="pln">                        var audio </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"audio"</span><span class="pun">);</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">var i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> audio</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-python"><span class="pln">                            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">audio</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">src</span><span class="pun">.</span><span class="pln">indexOf</span><span class="pun">(</span><span class="str">"boom"</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">audio</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">paused </span><span class="pun">||</span><span class="pln"> audio</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">ended</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                audio</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">play</span><span class="pun">();</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        </span><span class="pun">}</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L8"><code class="language-python"><span class="pln">                </span><span class="pun">}</span></code></li><li class="L9"><code class="language-python"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L0"><code class="language-python"></code></li><li class="L1"><code class="language-python"><span class="pln">            </span><span class="pun">/**</span></code></li><li class="L2"><code class="language-python"><span class="pln">             </span><span class="pun">*</span><span class="pln">  </span><span class="pun">舞台</span></code></li><li class="L3"><code class="language-python"><span class="pln">             </span><span class="pun">*</span><span class="pln">  init</span><span class="pun">()</span><span class="pln"> </span></code></li><li class="L4"><code class="language-python"><span class="pln">             </span><span class="pun">*</span><span class="pln">  addElement</span><span class="pun">()</span><span class="pln"> </span></code></li><li class="L5"><code class="language-python"><span class="pln">             </span><span class="pun">*</span><span class="pln">  myplanReborn</span><span class="pun">()</span></code></li><li class="L6"><code class="language-python"><span class="pln">             </span><span class="pun">*</span><span class="pln">  update</span><span class="pun">()</span></code></li><li class="L7"><code class="language-python"><span class="pln">             </span><span class="pun">*</span><span class="pln">  loop</span><span class="pun">()</span></code></li><li class="L8"><code class="language-python"><span class="pln">             </span><span class="pun">*</span><span class="pln">  start</span><span class="pun">()</span></code></li><li class="L9"><code class="language-python"><span class="pln">             </span><span class="pun">*/</span></code></li><li class="L0"><code class="language-python"><span class="pln">            </span><span class="pun">//</span><span class="pln">var sttop</span><span class="pun">;</span></code></li><li class="L1"><code class="language-python"><span class="pln">            var stage </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                init</span><span class="pun">:</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="language-python"><span class="pln">                    var _this </span><span class="pun">=</span><span class="pln"> this</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//解决</span><span class="pln">this</span><span class="pun">历史遗留问题</span></code></li><li class="L4"><code class="language-python"><span class="pln">                    this</span><span class="pun">.</span><span class="pln">loading </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Loading</span><span class="pun">(</span><span class="pln">datas</span><span class="pun">,</span><span class="pln"> canvas</span><span class="pun">,</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        canvas</span><span class="pun">.</span><span class="pln">className </span><span class="pun">=</span><span class="pln"> </span><span class="str">"showBg"</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">bgmisplay </span><span class="pun">===</span><span class="pln"> true</span><span class="pun">){</span></code></li><li class="L8"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"bgm"</span><span class="pun">).</span><span class="pln">play</span><span class="pun">();</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        </span><span class="pun">}</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        </span><span class="pun">//点击开始按钮</span><span class="pln">    </span><span class="pun">隐藏菜单</span></code></li><li class="L1"><code class="language-python"><span class="pln">                        start</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">"click"</span><span class="pun">,</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                            menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                            back</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"inline"</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                            _this</span><span class="pun">.</span><span class="pln">addElement</span><span class="pun">();</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        </span><span class="pun">},</span><span class="pln"> false</span><span class="pun">);</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        </span><span class="pun">//点击设置信息</span><span class="pln">  </span></code></li><li class="L7"><code class="language-python"><span class="pln">                        setting</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">"click"</span><span class="pun">,</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="language-python"><span class="pln">                            menu_setting</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                            menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="str">"none"</span><span class="pln"> </span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">                            </span><span class="pun">//难度选择</span></code></li><li class="L1"><code class="language-python"><span class="pln">    document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"setting_lever"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                menu_setting</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                menu_lever</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                </span><span class="pun">//简单</span></code></li><li class="L5"><code class="language-python"><span class="pln">    one_lever</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">"click"</span><span class="pun">,</span><span class="pln">function</span><span class="pun">(){</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                    badPlanNum </span><span class="pun">=</span><span class="pln"> </span><span class="lit">15</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                    menu_lever</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                                    back</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"inline"</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                                    _this</span><span class="pun">.</span><span class="pln">addElement</span><span class="pun">();</span></code></li><li class="L0"><code class="language-python"><span class="pln">                                </span><span class="pun">},</span><span class="pln">false</span><span class="pun">);</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                </span><span class="pun">//一般</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                two_lever</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">"click"</span><span class="pun">,</span><span class="pln">function</span><span class="pun">(){</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                    badPlanNum </span><span class="pun">=</span><span class="pln"> </span><span class="lit">20</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                    menu_lever</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                    back</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"inline"</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                    _this</span><span class="pun">.</span><span class="pln">addElement</span><span class="pun">();</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                </span><span class="pun">},</span><span class="pln">false</span><span class="pun">);</span></code></li><li class="L8"><code class="language-python"><span class="pln">                                </span><span class="pun">//困难</span></code></li><li class="L9"><code class="language-python"><span class="pln">                                three_lever</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">"click"</span><span class="pun">,</span><span class="pln">function</span><span class="pun">(){</span></code></li><li class="L0"><code class="language-python"><span class="pln">                                    badPlanNum </span><span class="pun">=</span><span class="pln"> </span><span class="lit">40</span><span class="pun">;</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                    menu_lever</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                    back</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"inline"</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                    _this</span><span class="pun">.</span><span class="pln">addElement</span><span class="pun">();</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                </span><span class="pun">},</span><span class="pln">false</span><span class="pun">);</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                </span><span class="pun">//地狱</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                 four_lever</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">"click"</span><span class="pun">,</span><span class="pln">function</span><span class="pun">(){</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                    badPlanNum </span><span class="pun">=</span><span class="pln"> </span><span class="lit">50</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                                    menu_lever</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                                    back</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"inline"</span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">                                    _this</span><span class="pun">.</span><span class="pln">addElement</span><span class="pun">();</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                </span><span class="pun">},</span><span class="pln">false</span><span class="pun">);</span></code></li><li class="L2"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L3"><code class="language-python"><span class="pln">                            </span><span class="pun">//背景音量设置</span></code></li><li class="L4"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"setting_radio"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                    menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                    menu_setting</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                    menu_music</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                                </span><span class="pun">}</span></code></li><li class="L9"><code class="language-python"><span class="pln">                            </span><span class="pun">//静音</span></code></li><li class="L0"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"shutdown"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                    bgmisplay </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                    document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"bgm"</span><span class="pun">).</span><span class="pln">pause</span><span class="pun">();</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                </span><span class="pun">}</span></code></li><li class="L4"><code class="language-python"><span class="pln">                            </span><span class="pun">//正常</span></code></li><li class="L5"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"turn_up"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                bgmisplay </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"bgm"</span><span class="pun">).</span><span class="pln">play</span><span class="pun">();</span></code></li><li class="L8"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L9"><code class="language-python"></code></li><li class="L0"><code class="language-python"><span class="pln">                            </span><span class="pun">//返回上一页</span><span class="pln">_</span><span class="pun">难度等级设置</span></code></li><li class="L1"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"lever_return"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                    menu_lever</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                    menu_music</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                    menu_setting</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                </span><span class="pun">}</span></code></li><li class="L6"><code class="language-python"><span class="pln">                            </span><span class="pun">//返回上一页</span><span class="pln">_</span><span class="pun">背景声音设置</span></code></li><li class="L7"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"music_return"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="language-python"><span class="pln">                                menu_music</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                                menu_setting</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L1"><code class="language-python"></code></li><li class="L2"><code class="language-python"><span class="pln">                            </span><span class="pun">//返回主菜单</span></code></li><li class="L3"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"setting_return"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                menu_setting</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                menu_music</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L8"><code class="language-python"></code></li><li class="L9"><code class="language-python"><span class="pln">                            </span><span class="pun">//设置背景图</span></code></li><li class="L0"><code class="language-python"><span class="pln">                            var i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L1"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"setting_bgimage"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                i </span><span class="pun">=</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                var imgC </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"movebg"</span><span class="pun">);</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                imgC</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">backgroundImage </span><span class="pun">=</span><span class="pln"> </span><span class="str">"url(image/bg"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="str">".jpg)"</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">i </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                    i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                </span><span class="pun">}</span></code></li><li class="L8"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        </span><span class="pun">},</span><span class="pln"> false</span><span class="pun">);</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        </span><span class="pun">//点击帮助按钮</span><span class="pln">    </span><span class="pun">显示帮助信息</span></code></li><li class="L1"><code class="language-python"><span class="pln">                        help</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">"click"</span><span class="pun">,</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                            menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                            helpDiv</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                            aboutDiv</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"help_return"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">(){</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                helpDiv</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                            </span><span class="pun">};</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        </span><span class="pun">},</span><span class="pln"> false</span><span class="pun">);</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        </span><span class="pun">//点击关于按钮</span><span class="pln">   </span><span class="pun">显示关于信息</span></code></li><li class="L1"><code class="language-python"><span class="pln">                        about</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">"click"</span><span class="pun">,</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                            menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                            helpDiv</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                            aboutDiv</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                            document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"about_return"</span><span class="pun">).</span><span class="pln">onclick </span><span class="pun">=</span><span class="pln"> function</span><span class="pun">(){</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                aboutDiv</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                            </span><span class="pun">};</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        </span><span class="pun">},</span><span class="pln"> false</span><span class="pun">);</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        </span><span class="pun">//点击退出按钮</span></code></li><li class="L1"><code class="language-python"><span class="pln">                        back</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="str">"click"</span><span class="pun">,</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                            menu</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"block"</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                            canvas</span><span class="pun">.</span><span class="pln">className </span><span class="pun">=</span><span class="pln"> </span><span class="str">"showBg"</span></code></li><li class="L4"><code class="language-python"><span class="pln">                            back</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                            helpDiv</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                            aboutDiv</span><span class="pun">.</span><span class="pln">style</span><span class="pun">.</span><span class="pln">display </span><span class="pun">=</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                            window</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="str">"index.html"</span><span class="pun">,</span><span class="str">'_self'</span><span class="pun">)</span><span class="pln"> </span></code></li><li class="L8"><code class="language-python"><span class="pln">                        </span><span class="pun">},</span><span class="pln"> false</span><span class="pun">);</span></code></li><li class="L9"><code class="language-python"><span class="pln">                    </span><span class="pun">});</span></code></li><li class="L0"><code class="language-python"></code></li><li class="L1"><code class="language-python"><span class="pln">                </span><span class="pun">},</span></code></li><li class="L2"><code class="language-python"></code></li><li class="L3"><code class="language-python"><span class="pln">                addElement</span><span class="pun">:</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-python"><span class="pln">                    </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">var i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">50</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        var x </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">width</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        var y </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">height </span><span class="pun">-</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">height</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        var star </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Sprite</span><span class="pun">(</span><span class="str">"star"</span><span class="pun">,</span><span class="pln"> starPainter</span><span class="pun">,</span><span class="pln"> starBehavior</span><span class="pun">);</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        star</span><span class="pun">.</span><span class="pln">top </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        star</span><span class="pun">.</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        sprites</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">star</span><span class="pun">);</span></code></li><li class="L1"><code class="language-python"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L2"><code class="language-python"></code></li><li class="L3"><code class="language-python"><span class="pln">                    </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">var i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> badPlanNum</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-python"><span class="pln">                        var x </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="pun">(</span><span class="pln">canvas</span><span class="pun">.</span><span class="pln">width </span><span class="pun">-</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> planSize</span><span class="pun">().</span><span class="pln">w</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> planSize</span><span class="pun">().</span><span class="pln">w</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        var y </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">height </span><span class="pun">-</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">height</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        var badPlan </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Sprite</span><span class="pun">(</span><span class="str">"badPlan"</span><span class="pun">,</span><span class="pln"> badPlanPainter</span><span class="pun">,</span><span class="pln"> badPlanBehavior</span><span class="pun">);</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        badPlan</span><span class="pun">.</span><span class="pln">top </span><span class="pun">=</span><span class="pln"> y</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        badPlan</span><span class="pun">.</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> x</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        sprites</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">badPlan</span><span class="pun">);</span></code></li><li class="L0"><code class="language-python"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L1"><code class="language-python"></code></li><li class="L2"><code class="language-python"><span class="pln">                    </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">var i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">400</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="language-python"><span class="pln">                        var missle </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Sprite</span><span class="pun">(</span><span class="str">"missle"</span><span class="pun">,</span><span class="pln"> misslePainter</span><span class="pun">,</span><span class="pln"> missleBehavior</span><span class="pun">);</span></code></li><li class="L4"><code class="language-python"><span class="pln">                        missle</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        missles</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">missle</span><span class="pun">);</span></code></li><li class="L6"><code class="language-python"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L7"><code class="language-python"></code></li><li class="L8"><code class="language-python"><span class="pln">                    </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">var i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> badPlanNum</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        var img </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Image</span><span class="pun">();</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        img</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> </span><span class="str">"image/explosion.png"</span><span class="pun">;</span></code></li><li class="L1"><code class="language-python"><span class="pln">                        var boom </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Sprite</span><span class="pun">(</span><span class="str">"boom"</span><span class="pun">,</span><span class="pln"> new </span><span class="typ">SpriteSheetPainter</span><span class="pun">(</span><span class="pln">explosionCells</span><span class="pun">,</span><span class="pln"> false</span><span class="pun">,</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                            this</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                        </span><span class="pun">},</span><span class="pln"> img</span><span class="pun">));</span></code></li><li class="L4"><code class="language-python"><span class="pln">                        boom</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        booms</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">boom</span><span class="pun">);</span></code></li><li class="L6"><code class="language-python"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L7"><code class="language-python"></code></li><li class="L8"><code class="language-python"><span class="pln">                    eatfood </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Sprite</span><span class="pun">(</span><span class="str">"food"</span><span class="pun">,</span><span class="pln"> foodPainter</span><span class="pun">,</span><span class="pln"> foodBehavior</span><span class="pun">);</span></code></li><li class="L9"><code class="language-python"><span class="pln">                    eatfood</span><span class="pun">.</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">width </span><span class="pun">-</span><span class="pln"> </span><span class="lit">60</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">30</span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">                    eatfood</span><span class="pun">.</span><span class="pln">top </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">30</span><span class="pun">;</span></code></li><li class="L1"><code class="language-python"><span class="pln">                    eatfood</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L2"><code class="language-python"><span class="pln">                    sprites</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">eatfood</span><span class="pun">);</span></code></li><li class="L3"><code class="language-python"></code></li><li class="L4"><code class="language-python"><span class="pln">                    img</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> </span><span class="str">"image/ship.png"</span></code></li><li class="L5"><code class="language-python"><span class="pln">                    myplan </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Sprite</span><span class="pun">(</span><span class="str">"plan"</span><span class="pun">,</span><span class="pln"> new controllSpriteSheetPainter</span><span class="pun">(</span><span class="pln">planCells</span><span class="pun">,</span><span class="pln"> img</span><span class="pun">),</span><span class="pln"> planBehavior</span><span class="pun">);</span></code></li><li class="L6"><code class="language-python"><span class="pln">                    myplan</span><span class="pun">.</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">width </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                    myplan</span><span class="pun">.</span><span class="pln">top </span><span class="pun">=</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">height </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="pln">planSize</span><span class="pun">().</span><span class="pln">h </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">10</span><span class="pun">);</span></code></li><li class="L8"><code class="language-python"><span class="pln">                    sprites</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">myplan</span><span class="pun">);</span></code></li><li class="L9"><code class="language-python"><span class="pln">                </span><span class="pun">},</span></code></li><li class="L0"><code class="language-python"></code></li><li class="L1"><code class="language-python"><span class="pln">                myplanReborn</span><span class="pun">:</span><span class="pln"> function</span><span class="pun">(</span><span class="pln">myplan</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                    setTimeout</span><span class="pun">(</span><span class="pln">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">width </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">top </span><span class="pun">=</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">height </span><span class="pun">-</span><span class="pln"> </span><span class="pun">(</span><span class="pln">planSize</span><span class="pun">().</span><span class="pln">h </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">10</span><span class="pun">);</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">fireLevel </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">rotateAngle </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        myplan</span><span class="pun">.</span><span class="pln">god </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        setTimeout</span><span class="pun">(</span><span class="pln">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0"><code class="language-python"><span class="pln">                            myplan</span><span class="pun">.</span><span class="pln">god </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L1"><code class="language-python"><span class="pln">                        </span><span class="pun">},</span><span class="pln"> </span><span class="lit">5000</span><span class="pun">)</span></code></li><li class="L2"><code class="language-python"><span class="pln">                    </span><span class="pun">},</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">)</span></code></li><li class="L3"><code class="language-python"><span class="pln">                </span><span class="pun">},</span></code></li><li class="L4"><code class="language-python"></code></li><li class="L5"><code class="language-python"><span class="pln">                update</span><span class="pun">:</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code class="language-python"><span class="pln">                    var stage </span><span class="pun">=</span><span class="pln"> this</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                    var boomnum </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        misslenum </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"></code></li><li class="L0"><code class="language-python"><span class="pln">                    this</span><span class="pun">.</span><span class="pln">loading</span><span class="pun">.</span><span class="pln">loop</span><span class="pun">();</span></code></li><li class="L1"><code class="language-python"><span class="pln">                    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">this</span><span class="pun">.</span><span class="pln">loading</span><span class="pun">.</span><span class="pln">getComplete</span><span class="pun">())</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                        ctx</span><span class="pun">.</span><span class="pln">clearRect</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">width</span><span class="pun">,</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">height</span><span class="pun">);</span></code></li><li class="L3"><code class="language-python"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L4"><code class="language-python"><span class="pln">                    missles</span><span class="pun">.</span><span class="pln">foreach</span><span class="pun">(</span><span class="pln">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        var missle </span><span class="pun">=</span><span class="pln"> this</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        sprites</span><span class="pun">.</span><span class="pln">foreach</span><span class="pun">(</span><span class="pln">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="language-python"><span class="pln">                            var bp </span><span class="pun">=</span><span class="pln"> this</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">bp</span><span class="pun">.</span><span class="pln">name </span><span class="pun">===</span><span class="pln"> </span><span class="str">"badPlan"</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> bp</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">&amp;&amp;</span><span class="pln"> missle</span><span class="pun">.</span><span class="pln">visible</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="language-python"><span class="pln">                                var juli </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sqrt</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">pow</span><span class="pun">(</span><span class="pln">missle</span><span class="pun">.</span><span class="pln">left </span><span class="pun">-</span><span class="pln"> bp</span><span class="pun">.</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">pow</span><span class="pun">(</span><span class="pln">missle</span><span class="pun">.</span><span class="pln">top </span><span class="pun">-</span><span class="pln"> bp</span><span class="pun">.</span><span class="pln">top</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">));</span></code></li><li class="L0"><code class="language-python"><span class="pln">                                </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">juli </span><span class="pun">&lt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">planSize</span><span class="pun">().</span><span class="pln">w </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> missle</span><span class="pun">.</span><span class="pln">width </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> missle</span><span class="pun">.</span><span class="pln">isgood</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                    missle</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                    bp</span><span class="pun">.</span><span class="pln">blood </span><span class="pun">-=</span><span class="pln"> </span><span class="lit">50</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">bp</span><span class="pun">.</span><span class="pln">blood </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                        bp</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                        point </span><span class="pun">+=</span><span class="pln"> bp</span><span class="pun">.</span><span class="pln">badKind</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                        boom</span><span class="pun">(</span><span class="pln">bp</span><span class="pun">)</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                    </span><span class="pun">}</span></code></li><li class="L8"><code class="language-python"><span class="pln">                                </span><span class="pun">}</span></code></li><li class="L9"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L0"><code class="language-python"><span class="pln">                        </span><span class="pun">});</span></code></li><li class="L1"><code class="language-python"></code></li><li class="L2"><code class="language-python"><span class="pln">                        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">missle</span><span class="pun">.</span><span class="pln">visible</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code class="language-python"><span class="pln">                            </span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">missle</span><span class="pun">.</span><span class="pln">isgood </span><span class="pun">&amp;&amp;</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">myplan</span><span class="pun">.</span><span class="pln">god</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                var juli </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sqrt</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">pow</span><span class="pun">(</span><span class="pln">missle</span><span class="pun">.</span><span class="pln">left </span><span class="pun">-</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">pow</span><span class="pun">(</span><span class="pln">missle</span><span class="pun">.</span><span class="pln">top </span><span class="pun">-</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">top</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">));</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">juli </span><span class="pun">&lt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">planSize</span><span class="pun">().</span><span class="pln">w </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">3</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                    myplan</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                    dieNum</span><span class="pun">++;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                                    missle</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                                    boom</span><span class="pun">(</span><span class="pln">myplan</span><span class="pun">)</span></code></li><li class="L0"><code class="language-python"><span class="pln">                                    stage</span><span class="pun">.</span><span class="pln">myplanReborn</span><span class="pun">(</span><span class="pln">myplan</span><span class="pun">)</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                </span><span class="pun">}</span></code></li><li class="L2"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L3"><code class="language-python"><span class="pln">                            misslenum</span><span class="pun">++;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                            this</span><span class="pun">.</span><span class="pln">paint</span><span class="pun">();</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        </span><span class="pun">}</span></code></li><li class="L6"><code class="language-python"><span class="pln">                    </span><span class="pun">});</span></code></li><li class="L7"><code class="language-python"></code></li><li class="L8"><code class="language-python"><span class="pln">                    booms</span><span class="pun">.</span><span class="pln">foreach</span><span class="pun">(</span><span class="pln">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">this</span><span class="pun">.</span><span class="pln">visible</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0"><code class="language-python"><span class="pln">                            boomnum</span><span class="pun">++;</span></code></li><li class="L1"><code class="language-python"><span class="pln">                            this</span><span class="pun">.</span><span class="pln">paint</span><span class="pun">();</span></code></li><li class="L2"><code class="language-python"><span class="pln">                        </span><span class="pun">}</span></code></li><li class="L3"><code class="language-python"><span class="pln">                    </span><span class="pun">})</span></code></li><li class="L4"><code class="language-python"></code></li><li class="L5"><code class="language-python"><span class="pln">                    sprites</span><span class="pun">.</span><span class="pln">foreach</span><span class="pun">(</span><span class="pln">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">===</span><span class="pln"> </span><span class="str">"food"</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> this</span><span class="pun">.</span><span class="pln">visible</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="language-python"><span class="pln">                            var tjuli </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sqrt</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">pow</span><span class="pun">(</span><span class="pln">this</span><span class="pun">.</span><span class="pln">left </span><span class="pun">-</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">pow</span><span class="pun">(</span><span class="pln">this</span><span class="pun">.</span><span class="pln">top </span><span class="pun">-</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">top</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">));</span></code></li><li class="L8"><code class="language-python"><span class="pln">                            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">tjuli </span><span class="pun">&lt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">myplan</span><span class="pun">.</span><span class="pln">width </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> this</span><span class="pun">.</span><span class="pln">width </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="language-python"><span class="pln">                                this</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">                                switch</span><span class="pun">(</span><span class="pln">this</span><span class="pun">.</span><span class="pln">kind</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                    case </span><span class="str">"LevelUP"</span><span class="pun">:</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                        myplan</span><span class="pun">.</span><span class="pln">fireLevel </span><span class="pun">=</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">fireLevel </span><span class="pun">&gt;=</span><span class="pln"> </span><span class="lit">100</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">fireLevel </span><span class="pun">:</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">fireLevel </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                    case </span><span class="str">"SpeedUP"</span><span class="pun">:</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                        myplan</span><span class="pun">.</span><span class="pln">firePerFrame </span><span class="pun">=</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">firePerFrame </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">firePerFrame </span><span class="pun">-</span><span class="pln"> </span><span class="lit">10</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                    case </span><span class="str">"God"</span><span class="pun">:</span></code></li><li class="L8"><code class="language-python"><span class="pln">                                        myplan</span><span class="pun">.</span><span class="pln">god </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                                        setTimeout</span><span class="pun">(</span><span class="pln">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0"><code class="language-python"><span class="pln">                                            myplan</span><span class="pun">.</span><span class="pln">god </span><span class="pun">=</span><span class="pln"> false</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                        </span><span class="pun">},</span><span class="pln"> </span><span class="lit">5000</span><span class="pun">);</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                    default</span><span class="pun">:</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                        </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                </span><span class="pun">}</span></code></li><li class="L6"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        </span><span class="pun">}</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">===</span><span class="pln"> </span><span class="str">"badPlan"</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">myplan</span><span class="pun">.</span><span class="pln">god</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="language-python"><span class="pln">                            var juli </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">sqrt</span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">pow</span><span class="pun">(</span><span class="pln">this</span><span class="pun">.</span><span class="pln">left </span><span class="pun">-</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">pow</span><span class="pun">(</span><span class="pln">this</span><span class="pun">.</span><span class="pln">top </span><span class="pun">-</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">top</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">));</span></code></li><li class="L0"><code class="language-python"><span class="pln">                            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">juli </span><span class="pun">&lt;</span><span class="pln"> planSize</span><span class="pun">().</span><span class="pln">w</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                myplan</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                dieNum</span><span class="pun">++;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                this</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> false</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                boom</span><span class="pun">(</span><span class="pln">this</span><span class="pun">)</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                boom</span><span class="pun">(</span><span class="pln">myplan</span><span class="pun">)</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                stage</span><span class="pun">.</span><span class="pln">myplanReborn</span><span class="pun">(</span><span class="pln">myplan</span><span class="pun">);</span></code></li><li class="L7"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        </span><span class="pun">}</span></code></li><li class="L9"><code class="language-python"></code></li><li class="L0"><code class="language-python"><span class="pln">                        this</span><span class="pun">.</span><span class="pln">paint</span><span class="pun">();</span></code></li><li class="L1"><code class="language-python"><span class="pln">                    </span><span class="pun">});</span></code></li><li class="L2"><code class="language-python"></code></li><li class="L3"><code class="language-python"><span class="pln">                    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">myplan</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-python"><span class="pln">                        ctx</span><span class="pun">.</span><span class="pln">fillStyle </span><span class="pun">=</span><span class="pln"> </span><span class="str">"#FFF"</span></code></li><li class="L5"><code class="language-python"><span class="pln">                        ctx</span><span class="pun">.</span><span class="pln">font </span><span class="pun">=</span><span class="pln"> </span><span class="str">"14px 微软雅黑"</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        ctx</span><span class="pun">.</span><span class="pln">textAlign </span><span class="pun">=</span><span class="pln"> </span><span class="str">"left"</span><span class="pun">;</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        ctx</span><span class="pun">.</span><span class="pln">textBaseline </span><span class="pun">=</span><span class="pln"> </span><span class="str">"middle"</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                        ctx</span><span class="pun">.</span><span class="pln">fillText</span><span class="pun">(</span><span class="str">"Level:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">myplan</span><span class="pun">.</span><span class="pln">fireLevel </span><span class="pun">===</span><span class="pln"> </span><span class="lit">4</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">"Max"</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">fireLevel</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">"        Speed:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">((</span><span class="lit">80</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">firePerFrame</span><span class="pun">)</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="lit">70</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">"Max"</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="lit">80</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> myplan</span><span class="pun">.</span><span class="pln">firePerFrame</span><span class="pun">)),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">height </span><span class="pun">-</span><span class="pln"> </span><span class="lit">18</span><span class="pun">);</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        ctx</span><span class="pun">.</span><span class="pln">fillText</span><span class="pun">(</span><span class="str">"Points:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> point </span><span class="pun">+</span><span class="pln"> </span><span class="str">"     死亡次数:"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> dieNum</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">18</span><span class="pun">);</span></code></li><li class="L0"><code class="language-python"></code></li><li class="L1"><code class="language-python"><span class="pln">                        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">foodDate </span><span class="pun">===</span><span class="pln"> null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code class="language-python"><span class="pln">                            foodDate </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Date</span><span class="pun">();</span></code></li><li class="L3"><code class="language-python"><span class="pln">                        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code class="language-python"><span class="pln">                            var nowFoodDate </span><span class="pun">=</span><span class="pln"> new </span><span class="typ">Date</span><span class="pun">();</span></code></li><li class="L5"><code class="language-python"><span class="pln">                            </span><span class="pun">//每个一秒产生一个道具</span></code></li><li class="L6"><code class="language-python"><span class="pln">                            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">nowFoodDate </span><span class="pun">-</span><span class="pln"> foodDate </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                var createFood </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">0.5</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> true </span><span class="pun">:</span><span class="pln"> false</span><span class="pun">;</span><span class="pln"> </span><span class="pun">//百分之五十的概率产生道具</span></code></li><li class="L8"><code class="language-python"><span class="pln">                                </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">createFood </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">!</span><span class="pln">eatfood</span><span class="pun">.</span><span class="pln">visible</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code class="language-python"><span class="pln">                                    eatfood</span><span class="pun">.</span><span class="pln">left </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> canvas</span><span class="pun">.</span><span class="pln">width </span><span class="pun">-</span><span class="pln"> </span><span class="lit">60</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">30</span><span class="pun">;</span></code></li><li class="L0"><code class="language-python"><span class="pln">                                    eatfood</span><span class="pun">.</span><span class="pln">top </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">30</span><span class="pun">;</span></code></li><li class="L1"><code class="language-python"><span class="pln">                                    </span><span class="pun">//子弹升级的概率为</span><span class="lit">0.9</span></code></li><li class="L2"><code class="language-python"><span class="pln">                                    </span><span class="pun">//子弹加速的概率为</span><span class="lit">0.05</span></code></li><li class="L3"><code class="language-python"><span class="pln">                                    </span><span class="pun">//保护罩的概率为</span><span class="lit">0.05</span></code></li><li class="L4"><code class="language-python"><span class="pln">                                    eatfood</span><span class="pun">.</span><span class="pln">kind </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0.1</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">"LevelUP"</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">(</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0.5</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="str">"SpeedUP"</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="str">"God"</span><span class="pun">);</span></code></li><li class="L5"><code class="language-python"><span class="pln">                                    eatfood</span><span class="pun">.</span><span class="pln">visible </span><span class="pun">=</span><span class="pln"> true</span><span class="pun">;</span></code></li><li class="L6"><code class="language-python"><span class="pln">                                </span><span class="pun">}</span></code></li><li class="L7"><code class="language-python"><span class="pln">                                foodDate </span><span class="pun">=</span><span class="pln"> nowFoodDate</span><span class="pun">;</span></code></li><li class="L8"><code class="language-python"><span class="pln">                            </span><span class="pun">}</span></code></li><li class="L9"><code class="language-python"><span class="pln">                        </span><span class="pun">}</span></code></li><li class="L0"><code class="language-python"><span class="pln">                    </span><span class="pun">}</span></code></li><li class="L1"><code class="language-python"></code></li><li class="L2"><code class="language-python"><span class="pln">                    boomDom</span><span class="pun">.</span><span class="pln">innerHTML </span><span class="pun">=</span><span class="pln"> </span><span class="str">"爆炸使用率(已使用/存储总量):"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> boomnum </span><span class="pun">+</span><span class="pln"> </span><span class="str">"/"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> booms</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span></code></li><li class="L3"><code class="language-python"><span class="pln">                    missleDom</span><span class="pun">.</span><span class="pln">innerHTML </span><span class="pun">=</span><span class="pln"> </span><span class="str">"子弹使用率(已使用/存储总量):"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> misslenum </span><span class="pun">+</span><span class="pln"> </span><span class="str">"/"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> missles</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span></code></li><li class="L4"><code class="language-python"></code></li><li class="L5"><code class="language-python"><span class="pln">                </span><span class="pun">},</span></code></li><li class="L6"><code class="language-python"><span class="pln">                ID</span><span class="pun">:</span><span class="lit">0</span><span class="pun">,</span></code></li><li class="L7"><code class="language-python"><span class="pln">                loop</span><span class="pun">:</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code class="language-python"><span class="pln">                    var _this </span><span class="pun">=</span><span class="pln"> this</span><span class="pun">;</span></code></li><li class="L9"><code class="language-python"><span class="pln">                    this</span><span class="pun">.</span><span class="pln">update</span><span class="pun">();</span></code></li><li class="L0"><code class="language-python"><span class="pln">                    globalID </span><span class="pun">=</span><span class="pln"> RAF</span><span class="pun">(</span><span class="pln">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-python"><span class="pln">                        _this</span><span class="pun">.</span><span class="pln">loop</span><span class="pun">();</span></code></li><li class="L2"><code class="language-python"><span class="pln">                    </span><span class="pun">});</span></code></li><li class="L3"><code class="language-python"><span class="pln">                </span><span class="pun">},</span></code></li><li class="L4"><code class="language-python"></code></li><li class="L5"><code class="language-python"><span class="pln">                start</span><span class="pun">:</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code class="language-python"><span class="pln">                        this</span><span class="pun">.</span><span class="pln">init</span><span class="pun">();</span></code></li><li class="L7"><code class="language-python"><span class="pln">                        this</span><span class="pun">.</span><span class="pln">loop</span><span class="pun">();</span></code></li><li class="L8"><code class="language-python"><span class="pln">                </span><span class="pun">},</span></code></li><li class="L9"><code class="language-python"></code></li><li class="L0"><code class="language-python"><span class="pln">                stop</span><span class="pun">:</span><span class="pln"> function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-python"><span class="pln">                    cancelAnimationFrame</span><span class="pun">(</span><span class="pln">globalID</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L2"><code class="language-python"><span class="pln">                </span><span class="pun">},</span></code></li><li class="L3"><code class="language-python"><span class="pln">            </span><span class="pun">}</span></code></li><li class="L4"><code class="language-python"></code></li><li class="L5"><code class="language-python"><span class="pln">            stage</span><span class="pun">.</span><span class="pln">start</span><span class="pun">();</span></code></li></ol></pre><hr><div class="md-section-divider"></div><h3 data-anchor-id="qxiw" id="32-功能">3.2 功能</h3><div class="md-section-divider"></div><div class="mermaid graph" title="点击查看大图" data-anchor-id="22fr" data-processed="true"><svg id="mermaidChart0" xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 0 831.3125 354" style="max-width:831.3125px;"><style type="text/css" title="mermaid-svg-internal-css"> .node&gt;rect { ; } .node text  { fill:#000; stroke:none; font-weight:300; font-family:"Helvetica Neue",Helvetica,Arial,sans-serf; font-size:14px; } .edgeLabel text  { fill:#000; stroke:none; font-weight:300; font-family:"Helvetica Neue",Helvetica,Arial,sans-serf; font-size:14px; } .cluster rect  { rx:4px; fill: rgb(255, 255, 222); rx: 4px; stroke: rgb(170, 170, 51); stroke-width: 1px; } .label, .badge { display: inline-block; padding: 2px 4px; font-size: 11.844px; font-weight: bold; line-height: 14px; color: rgb(255, 255, 255); text-shadow: rgba(0, 0, 0, 0.247059) 0px -1px 0px; white-space: nowrap; vertical-align: baseline; background-color: rgb(153, 153, 153);} .label { border-radius: 3px;} .mermaid .label { color: rgb(51, 51, 51);} .node rect, .node circle, .node ellipse, .node polygon { fill: rgb(236, 236, 255); stroke: rgb(204, 204, 255); stroke-width: 1px;} .edgePath .path { stroke: rgb(51, 51, 51);} .edgeLabel { background-color: rgb(232, 232, 232);} .cluster rect { fill: rgb(255, 255, 222) !important; rx: 4 !important; stroke: rgb(170, 170, 51) !important; stroke-width: 1px !important;} .cluster text { fill: rgb(51, 51, 51);} </style><g><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M627.3125,56L627.3125,81L627.3125,106" marker-end="url(#arrowhead26)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead26" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M592.8125,127.27122381477398L173.8125,167L173.8125,192" marker-end="url(#arrowhead27)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead27" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M592.8125,134.37412587412587L484.3125,167L484.3125,192" marker-end="url(#arrowhead28)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead28" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M607.2194767441861,142L579.3125,167L579.3125,192" marker-end="url(#arrowhead29)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead29" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M646.7776162790698,142L673.8125,167L673.8125,192" marker-end="url(#arrowhead30)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead30" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M661.8125,134.48409893992934L768.8125,167L768.8125,192" marker-end="url(#arrowhead31)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead31" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M150.8125,219.77695396972504L72.65625,253L72.65625,278" marker-end="url(#arrowhead32)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead32" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M189.09156976744185,228L210.3125,253L210.3125,278" marker-end="url(#arrowhead33)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead33" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M196.8125,216.36012861736333L329.3125,253L329.3125,278" marker-end="url(#arrowhead34)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead34" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M464.21947674418607,228L436.3125,253L436.3125,278" marker-end="url(#arrowhead35)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead35" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M504.40552325581393,228L532.3125,253L532.3125,278" marker-end="url(#arrowhead36)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead36" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M507.3125,216.86805555555554L628.3125,253L628.3125,278" marker-end="url(#arrowhead37)" style="stroke: #333; stroke-width: 1.5px;fill:none"></path><defs><marker id="arrowhead37" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" style="fill: #333"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g><g class="edgeLabel" style="opacity: 1;" transform=""><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0" style="fill:#e8e8e8;"></rect><text><tspan xml:space="preserve" dy="1em" x="1"></tspan></text></g></g></g><g class="nodes"><g class="node" style="opacity: 1;" id="B" transform="translate(627.3125,38)"><rect rx="0" ry="0" x="-35" y="-18" width="70" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-25,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">开始游戏</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="C" transform="translate(627.3125,124)"><rect rx="0" ry="0" x="-34.5" y="-18" width="69" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-24.5,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">显示菜单</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="D" transform="translate(173.8125,210)"><rect rx="5" ry="5" x="-23" y="-18" width="46" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">开始</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="E" transform="translate(484.3125,210)"><rect rx="5" ry="5" x="-23" y="-18" width="46" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">设置</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="F" transform="translate(579.3125,210)"><rect rx="5" ry="5" x="-22" y="-18" width="44" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-12,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">帮助</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="G" transform="translate(673.8125,210)"><rect rx="5" ry="5" x="-22.5" y="-18" width="45" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-12.5,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">关于</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="H" transform="translate(768.8125,210)"><rect rx="5" ry="5" x="-22.5" y="-18" width="45" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-12.5,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">退出</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="I" transform="translate(72.65625,296)"><rect rx="5" ry="5" x="-52.65625" y="-18" width="105.3125" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-42.65625,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">LevelUp包出现</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="J" transform="translate(210.3125,296)"><rect rx="5" ry="5" x="-35" y="-18" width="70" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-25,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">敌机出现</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="K" transform="translate(329.3125,296)"><rect rx="5" ry="5" x="-34" y="-18" width="68" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-24,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">子弹产生</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="L" transform="translate(436.3125,296)"><rect rx="5" ry="5" x="-23" y="-18" width="46" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">难度</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="M" transform="translate(532.3125,296)"><rect rx="5" ry="5" x="-23" y="-18" width="46" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">音量</tspan></text></g></g></g><g class="node" style="opacity: 1;" id="N" transform="translate(628.3125,296)"><rect rx="5" ry="5" x="-23" y="-18" width="46" height="36"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-13,-8)"><text><tspan xml:space="preserve" dy="1em" x="1">背景</tspan></text></g></g></g></g></g></g></svg></div><hr><div class="md-section-divider"></div><h3 data-anchor-id="k2d2" id="33-性能">3.3 性能</h3><p data-anchor-id="2y68">对CPU有一定要求 </p><div class="md-section-divider"></div><h3 data-anchor-id="9xv8" id="34-输入项">3.4 输入项</h3><p data-anchor-id="yrpd">用于游戏控制的按键：  <br>
方向控制：键盘上 下 左 右键 开火：自动 旋转：Z C </p><div class="md-section-divider"></div><h3 data-anchor-id="zglz" id="35-输出项">3.5 输出项</h3><p data-anchor-id="442u">游戏画面输出 </p><div class="md-section-divider"></div><h3 data-anchor-id="b564" id="36-算法">3.6 算法</h3><p data-anchor-id="xqaw">碰撞测试：矩形相交  <br>
飞行轨迹：正弦函数、直线函数 </p><div class="md-section-divider"></div><h3 data-anchor-id="l6a9" id="37-流程逻辑">3.7 流程逻辑</h3><p data-anchor-id="ib9j">游戏开始 ——&gt; 游戏菜单 ——&gt; 玩家移动 ——&gt; 敌机产生 ——&gt; 玩家开火 ——&gt; 敌机开火 ——&gt; 碰撞测试 ——&gt; 分数累计 ——&gt; 升级包 ——&gt; 游戏菜单 </p><div class="md-section-divider"></div><h3 data-anchor-id="igeh" id="38-存储分配">3.8 存储分配</h3><p data-anchor-id="yzfl">先将程序内存储的资源文件动态载入到内存中，而后显示在游戏界面。 </p><div class="md-section-divider"></div><h3 data-anchor-id="mbe0" id="39-测试计划">3.9 测试计划</h3><p data-anchor-id="6fbc">项目完成前模块测试主要由管理组长完成。项目功能完成后由小组两名成员进行总体项目测试，做到测试人员与编码人员相分离。    </p><div class="md-section-divider"></div><h3 data-anchor-id="c67r" id="310-具体人员安排">3.10 具体人员安排</h3><p data-anchor-id="wdue">人员分配：小组的整体框架是由技术组长和管理组长给构建好的，然后每个小组成员在构建好的框架进行代码的编写。</p><ul data-anchor-id="ek0g">
<li>李滔(<em>2014131219</em>)：框架的搭建、主要函数的实现、代码的整合</li>
<li>廖清林(<em>2014131218</em>)：帮助和关于</li>
<li>王淋藜(<em>2014131204</em>)：设置</li>
<li>王德平(<em>2014131217</em>)：各界面设计与美化 </li>
<li>刘云峰(<em>2014131215</em>)：需求分析、报告说明书撰写 </li>
</ul><div class="md-section-divider"></div><h3 data-anchor-id="cld4" id="311-尚未解决的问题">3.11 尚未解决的问题</h3><p data-anchor-id="fbl5">关卡、地图重置。</p></div>
</body>
</html>